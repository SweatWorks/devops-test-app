const config = {
  application: {
    name: process.env.DEVOPS_TEST_BACKEND_NAME || 'DEVOPS_TEST',
    env: process.env.DEVOPS_TEST_ENV || 'development',
    port: parseInt(process.env.DEVOPS_TEST_PORT || 3081, 10),
    release_version: process.env.DEVOPS_TEST_RELEASE_VERSION || '0.0.1',
    start_time: Date.now(),
  },

  database: {
    name: process.env.DEVOPS_TEST_DATABASE_NAME || 'postgres',
    username: process.env.DEVOPS_TEST_DATABASE_USERNAME || 'postgres',
    password: process.env.DEVOPS_TEST_DATABASE_PASSWORD || '',
    options: {
      host: process.env.DEVOPS_TEST_DATABASE_HOST || 'podium-global-postgres',
      port: parseInt(process.env.DEVOPS_TEST_DATABASE_PORT || 5432, 10),
      dialect: 'postgres',
      define: {
        timestamps: false,
      },
      logging: false,
      pool: {
        max: parseInt(process.env.DEVOPS_TEST_DATABASE_POOL_SIZE_MAX || 3, 10),
        min: parseInt(process.env.DEVOPS_TEST_DATABASE_POOL_SIZE_MIN || 0, 10),
        idle: parseInt(process.env.DEVOPS_TEST_DATABASE_TIMEOUT || 1000, 10),
        acquire: parseInt(process.env.DEVOPS_TEST_DATABASE_TIMEOUT || 1000, 10),
      },
      retry: {
        match: ['ER_LOCK_DEADLOCK'],
        max: parseInt(process.env.DEVOPS_TEST_DATABASE_MAX_RETRIES || 3, 10),
      },
    },
  },
};

module.exports = config;
